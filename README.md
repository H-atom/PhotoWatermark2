# PhotoWatermark

一款功能强大的跨平台桌面应用程序，用于为图片添加自定义水印。支持文本和图片水印，提供丰富的自定义选项和实时预览功能。

## 🌟 功能特性

### 📁 文件处理
- **灵活导入**: 支持单张图片拖拽或文件选择器导入
- **批量处理**: 可一次性选择多张图片或直接导入整个文件夹
- **缩略图预览**: 在界面上显示已导入图片的列表（缩略图和文件名）
- **格式支持**: 
  - 输入格式: JPEG, PNG, BMP, TIFF (支持PNG透明通道)
  - 输出格式: 可选择输出为JPEG或PNG

### 💧 水印类型
#### 文本水印
- 自定义文本内容
- 系统字体选择（支持中文字体）
- 字号、粗体、斜体设置
- 颜色选择器
- 透明度调节（0-100%）
- 阴影和描边效果

#### 图片水印
- 本地Logo或图片作为水印
- 支持带透明通道的PNG图片
- 按比例缩放水印大小
- 透明度调节（0-100%）

### 🎨 布局与样式
- **实时预览**: 所有调整实时显示效果
- **智能定位**: 九宫格布局（四角、四边、中心）
- **手动拖拽**: 在预览图上直接拖拽调整位置
- **旋转功能**: 任意角度旋转水印

### ⚙️ 配置管理
- **模板系统**: 保存和加载水印设置模板
- **个性化设置**: 每张图片可单独设置水印参数
- **自动加载**: 启动时自动恢复上次设置

## 🚀 快速开始

### 系统要求
- **Windows**: Windows 10 或更高版本
- **内存**: 至少 4GB RAM
- **存储**: 200MB 可用空间

### 下载安装

#### Windows
1. 下载 `dist/WatermarkTool.exe`
2. 双击运行安装程序
3. 按照向导完成安装
4. 从开始菜单启动应用

### 从源码运行

#### 环境要求
- Python 3.8+
- PyQt5
- Pillow (PIL)

#### 安装步骤
```bash
# 克隆仓库
git clone https://github.com/H-atom/PhotoWatermark2.git
cd PhotoWatermark2

# 安装依赖
pip install -r requirements.txt

# 运行应用
python main.py
```

#### 依赖列表
```text
PyQt5>=5.15.0
Pillow>=9.0.0
```

## 📖 使用指南

### 基本操作流程

1. **导入图片**
   - 点击"导入图片"按钮选择文件
   - 或直接将图片拖拽到应用窗口
   - 或使用"导入文件夹"批量导入

2. **配置水印**
   - 在右侧面板选择水印类型（文本或图片）
   - 调整字体、颜色、大小等参数
   - 在预览图中实时查看效果

3. **调整位置**
   - 使用位置下拉菜单选择预设位置
   - 或选择"自定义拖拽"手动调整位置
   - 使用旋转滑块调整水印角度

4. **导出图片**
   - 选择输出文件夹
   - 设置文件命名规则（前缀/后缀）
   - 调整输出格式和质量设置
   - 点击"导出所有图片"

### 高级功能

#### 个性化设置
- 切换到"个性化设置"标签页
- 为每张图片设置独特的水印参数
- 支持位置偏移微调

#### 模板管理
- 在"模板管理"标签页保存当前设置
- 快速加载常用水印配置
- 支持模板的导入导出

#### 批量处理
- 一次性处理大量图片
- 保持水印设置的一致性
- 进度显示和取消操作支持

## 🛠️ 技术特性

### 架构设计
- **模块化设计**: 清晰的功能分离
- **多线程处理**: 避免界面卡顿
- **内存优化**: 智能缓存和资源管理

### 用户体验
- **直观界面**: 现代化卡片式设计
- **实时反馈**: 即时预览所有更改
- **错误处理**: 友好的错误提示和恢复

### 性能优化
- **快速处理**: 优化的图像处理算法
- **资源友好**: 低内存占用
- **高质量输出**: 保持图片质量的同时添加水印

## 📋 版本历史

### v1.0.0 (当前版本)
- 基础文本和图片水印功能
- 实时预览和拖拽定位
- 模板管理系统
- 批量处理支持

### 计划功能
- [ ] EXIF信息读取和写入
- [ ] 更多水印效果（模糊、发光等）
- [ ] 命令行接口
- [ ] 插件系统

## 🤝 贡献指南

我们欢迎社区贡献！请参考以下步骤：

1. Fork 本仓库
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

### 开发环境设置
```bash
# 创建虚拟环境
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 安装开发依赖
pip install -r requirements-dev.txt

# 运行测试
pytest tests/
```

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🆘 常见问题

### Q: 支持哪些图片格式？
A: 支持 JPEG、PNG、BMP、TIFF 格式的输入，输出支持 JPEG 和 PNG 格式。

### Q: 如何处理大尺寸图片？
A: 应用会自动优化处理流程，建议单张图片不超过 50MB。

### Q: 水印设置可以保存吗？
A: 是的，可以使用模板功能保存和加载水印设置。

### Q: 支持批量处理吗？
A: 支持，可以一次性导入多张图片或整个文件夹进行处理。

### Q: 导出时是否会覆盖原文件？
A: 默认情况下会添加后缀防止覆盖，用户也可以自定义命名规则。

## 📞 支持与反馈

如果您遇到问题或有建议：

1. 查看 [问题页面](https://github.com/your-username/watermark-tool/issues)
2. 提交新的 Issue
3. 或发送邮件至: jackownership@outlook.com

## 🙏 致谢

感谢以下开源项目：
- [PyQt5](https://www.riverbankcomputing.com/software/pyqt/) - GUI框架
- [Pillow](https://python-pillow.org/) - 图像处理库
- [Python](https://www.python.org/) - 编程语言

---

**注意**: 本工具仅供个人和非商业使用。请确保您拥有在图片上添加水印的合法权利。
